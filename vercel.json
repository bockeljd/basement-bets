{
    "$schema": "https://openapi.vercel.sh/vercel.json",
    "rewrites": [
        {
            "source": "/api/:match*",
            "destination": "/api/index.py"
        },
        {
            "source": "/(.*)",
            "destination": "/index.html"
        }
    ],
    "functions": {
        "api/**/*.py": {
            "excludeFiles": "{tests/**,docs/**,scripts/**,client/**,data/**,**/*.db,**/*.parquet,node_modules/**,venv/**,.venv/**}",
            "maxDuration": 60
        }
    },
    "crons": [
        {
            "path": "/api/jobs/policy_refresh",
            "schedule": "0 6 * * *"
        },
        {
            "path": "/api/jobs/ingest_torvik",
            "schedule": "0 7 * * *"
        },
        {
            "path": "/api/jobs/ingest_results/NCAAM",
            "schedule": "30 7 * * *"
        }
    ]
}